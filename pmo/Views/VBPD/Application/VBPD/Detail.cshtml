@model VbpdProjectDetail

@{
    ViewData["Title"] = "Project Info";
    Layout = "_VbpdProjectDetailLayout";
}

<div class="actions-component">
    <div class="wrapper">
        <div class="header">
            <h1><i class="icon fas fa-info-circle"></i> @ViewData["Title"]</h1>
        </div>
        <div class="actions">
            <div class="action"><a class="btn" href="@Context.Request.RouteValues.First(f => f.Key == "projectId").Value/project-detail/edit">Edit</a></div>
        </div>
    </div>
</div>

<div class="layout-horrizontal-component">
    <div class="wrapper">
        <div class="sections">
            <div class="section">
                <div class="detail-component">
                    <div class="wrapper">
                        <div class="details">
                            <div class="detail">
                                <div class="label">Project</div>
                                <div class="value">@Model.ProjectDetail.Project.Name</div>
                            </div>
                            <div class="detail">
                                <div class="label">Project Process Type</div>
                                <div class="value">@Model.ProjectDetail.ProjectProcessType</div>
                            </div>
                            <div class="detail">
                                <div class="label">Salesforce.com #</div>
                                <div class="value">@Model.ProjectDetail.Salesforce</div>
                            </div>
                            <div class="detail">
                                <div class="label">Project Category</div>
                                <div class="value">@Model.ProjectDetail.ProjectCategory.Name</div>
                            </div>
                            <div class="detail">
                                <div class="label">Product Line</div>
                                <div class="value">@Model.ProjectDetail.ProductLine.Name</div>
                            </div>
                            <div class="detail">
                                <div class="label">Project Classification</div>
                                <div class="value">@Model.ProjectDetail.ProjectClassification.Name</div>
                            </div>
                       
                        </div>
                    </div>
                </div>
            </div>
            <div class="section">
                <div class="detail-component">
                    <div class="wrapper">
                        <div class="details">
                            <div class="detail">
                                <div class="label">Export/Application Type</div>
                                <div class="value">@Model.ProjectDetail.ExportApplicationType.Name</div>
                            </div>
                            <div class="detail">
                                <div class="label">End-Use Destination Country</div>
                                <div class="value">@Model.ProjectDetail.EndUseDestinationCountry</div>
                            </div>
                            <div class="detail">
                                <div class="label">Export Control Code(s)</div>
                                <div class="value">@Model.ProjectDetail.ExportControlCode</div>
                            </div>
                            <div class="detail">
                                <div class="label">Sales Regions</div>
                                <div class="value">@Helpers.GetDelimited(Model.ProjectDetail.SalesRegions.Select(s => s.SalesRegion.Name).ToList())</div>
                            </div>
                            <div class="detail">
                                <div class="label">Customers</div>
                                <div class="value">@Helpers.GetDelimited(Model.ProjectDetail.Customers.Select(s => s.Customers.Name).ToList())</div>
                            </div>
                            <div class="detail">
                                <div class="label">Design Authority</div>
                                <div class="value">@Model.ProjectDetail.DesignAuthority.Name</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@if (Model.GateComments.Count > 0)
{
    <div class="actions-component">
        <div class="wrapper">
            <div class="header">
                <h1><i class="fas fa-comments"></i> Gate Comments</h1>
            </div>
        </div>
    </div>

    <div class="list-component">
        <div class="wrapper">
            <div class="title">
                <div>Modified By User</div>
                <div>Create Date</div>
                <div>Decision Type</div>
                <div>Comment</div>
            </div>
            <div class="items" style="max-height: 500px; overflow: auto;">
                @foreach (var comment in Model.GateComments)
                {
                    <div class="item">
                        <div class="item-wrapper">
                            <div>@comment.ModifiedByUser</div>
                            <div>@comment.CreateDate.ToString("MM/dd/yyyy")</div>
                            <div>@comment.DecisionType.ToString()</div>
                            <div>@comment.Comment</div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
}

<div class="actions-component">
    <div class="wrapper">
        <div class="header">
            <h1><i class="fas fa-users"></i> Team Members</h1>
        </div>
        <div class="actions">
            <div class="action"><a class="btn" href="/projects/@Model.ProjectDetail.ProjectId/team-members/edit">Edit</a></div>
        </div>
    </div>
</div>

<div class="list-component">
    <div class="wrapper">
        <div class="title">
            <div>Position</div>
            <div>User Assigned</div>
        </div>
        <div class="items">
            @foreach (var member in Model.TeamMembers)
            {
                <div class="item">
                    <div class="item-wrapper">
                        <div>@member.JobDescriptionKey</div>
                        <div>@member.User.NetworkUsername</div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
